<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google BigQuery Deployment • ReviewR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Google BigQuery Deployment">
<meta property="og:description" content="ReviewR">
<meta property="og:image" content="reviewr.thewileylab.org/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ReviewR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Deploying ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/deploy_local.html">Local Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_server.html">Shiny Server Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_docker.html">Docker Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_bigquery.html">Google BigQuery Deployment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Using ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/usage_connect_to_record_database.html">Connect to Patient Record Database</a>
    </li>
    <li>
      <a href="../articles/usage_connect_to_redcap.html">Connect to REDCap</a>
    </li>
    <li>
      <a href="../articles/usage_perform_chart_review.html">Perform A Chart Review</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Customizing ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customize_support_new_rdbms.html">Support a New Relational Database Management System</a>
    </li>
    <li>
      <a href="../articles/customize_support_new_data_model.html">Support a Custom Data Model</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/thewileylab/ReviewR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="deploy_bigquery_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Google BigQuery Deployment</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thewileylab/ReviewR/blob/master/vignettes/deploy_bigquery.Rmd"><code>vignettes/deploy_bigquery.Rmd</code></a></small>
      <div class="hidden name"><code>deploy_bigquery.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>In order to protect your privacy, Google has specific requirements for connecting and allowing applications to access your data. These requirements mean that there are some things you should know, and in server deployments some extra setup steps required, for projects connecting to Google BigQuery.</p>
</div>
<div id="local-deployment" class="section level2">
<h2 class="hasAnchor">
<a href="#local-deployment" class="anchor"></a>Local Deployment</h2>
<p>This package uses internal resources owned by the “ReviewR” project on Google Cloud Platform. You can see our full <a href="https://reviewr.thewileylab.org/articles/privacy-policy">privacy policy</a> for how we handle your data (briefly, we only collect aggregate usage information, none of your data sets are revealed or accessible to us). If those terms are acceptable for you, no further configuration is required! However, if you would prefer not to authorize with ReviewR you may bring your own OAuth clientID from a Google Cloud Project of your choice.</p>
<p>To obtain and use your own Google API credentials:</p>
<ol style="list-style-type: decimal">
<li>Obtain a Google Cloud Platform Project
<ul>
<li><a href="https://console.cloud.google.com/" class="uri">https://console.cloud.google.com/</a></li>
</ul>
</li>
<li>Create an OAuth clientID and secret
<ul>
<li>Within the project you created in step 1, head to <em>APIs &amp; Services &gt; Credentials</em>
</li>
<li>At the top, click <em>Create credentials &gt; OAuth client ID</em>
</li>
<li>Select “Desktop” as the application type
<ul>
<li>Optionally, provide a name for your Desktop client</li>
</ul>
</li>
<li>Click <em>Create</em>
</li>
</ul>
</li>
<li>Locate the client ID that was created and click “Download JSON”
<ul>
<li>Save the file as “client_secret.json” to <code>~/.bq_client_id</code> on Unix based systems or <code>$HOMEPATH$/.bq_client_id/client_secret.json</code> on Windows.</li>
</ul>
</li>
</ol>
<p>On launch, ReviewR will check the path defined in step 3 above for a <code>client_secret.json</code> file. If found, it will use these credentials instead of the Wiley Lab credentials that have been built into the package. Additionally, you may also run <code><a href="../reference/run_app.html">ReviewR::run_app(secrets_json = '/path/to/client_secret.json')</a></code> if you would prefer to store this file elsewhere.</p>
</div>
<div id="server-deployment" class="section level2">
<h2 class="hasAnchor">
<a href="#server-deployment" class="anchor"></a>Server Deployment</h2>
<p>If you are using ReviewR on a Shiny Server deployment and intend to connect to data stored in Google BigQuery <em>you must</em> obtain your own Google API credentials. Otherwise, authentication will fail as Google will be unable to determine where to redirect authenticated users. After ReviewR is installed and accessible on a server with a secured fully qualified domain name:</p>
<ol style="list-style-type: decimal">
<li>Obtain a Google Cloud Platform Project
<ul>
<li><a href="https://console.cloud.google.com/" class="uri">https://console.cloud.google.com/</a></li>
</ul>
</li>
<li>Create an OAuth clientID and secret
<ul>
<li>Within the project you created in step 1, head to <em>APIs &amp; Services &gt; Credentials</em>
</li>
<li>At the top, click <em>Create credentials &gt; OAuth client ID</em>
</li>
<li>Select “Web application” as the application type
<ul>
<li>Optionally, provide a name for your web application client</li>
</ul>
</li>
<li>Add the https URL of your shiny server ReviewR installation to the Authorized redirect URIs section <em>eg: <code>https://your.shinyserver.url/ReviewR</code></em>
</li>
<li>Click <em>Create</em>
</li>
</ul>
</li>
<li>Locate the client ID that was created and click “Download JSON”
<ul>
<li>Save the file as “client_secret.json”</li>
</ul>
</li>
<li>Upload this file to the following directory on your shiny server:
<ul>
<li><code>/srv/shiny-server/.bq_client_id</code></li>
</ul>
</li>
<li>If ReviewR is already installed, simply refresh the browser window.</li>
</ol>
<p><em>Additional Reading: (<a href="https://gargle.r-lib.org/articles/get-api-credentials.html#get-a-google-cloud-platform-project-1" class="uri">https://gargle.r-lib.org/articles/get-api-credentials.html#get-a-google-cloud-platform-project-1</a>)</em></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Laura Wiley, Luke Rasmussen, David Mayer, <a href="https://www.thewileylab.org/"><img src="https://raw.githubusercontent.com/thewileylab/ReviewR/master/man/figures/WileyLab.svg" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
