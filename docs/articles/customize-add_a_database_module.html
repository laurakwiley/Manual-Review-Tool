<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Support a New Relational Database Management System • ReviewR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Support a New Relational Database Management System">
<meta property="og:description" content="ReviewR">
<meta property="og:image" content="reviewr.thewileylab.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ReviewR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Deploying ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/deploy-single_user.html">Local Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy-server.html">Shiny Server Deployment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Using ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/usage-connect_to_patient_records.html">Connecting to Patient Record Database</a>
    </li>
    <li>
      <a href="../articles/usage-connect_to_redcap.html">Connecting to REDCap</a>
    </li>
    <li>
      <a href="../articles/usage-perform_chart_review.html">Performing Chart Review</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Customizing ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customize-add_a_database_module.html">Support a New Relational Database Management System</a>
    </li>
    <li>
      <a href="../articles/customize-add_a_custom_data_model.html">Support a New Datamodel</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customize-add_a_custom_data_model.html">Support a New Datamodel</a>
    </li>
    <li>
      <a href="../articles/customize-add_a_database_module.html">Support a New Relational Database Management System</a>
    </li>
    <li>
      <a href="../articles/deploy-server.html">Shiny Server Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy-single_user.html">Single User Deployment</a>
    </li>
    <li>
      <a href="../articles/usage-connect_to_patient_records.html">Connecting to Patient Record Database</a>
    </li>
    <li>
      <a href="../articles/usage-connect_to_redcap.html">Connecting to REDCap</a>
    </li>
    <li>
      <a href="../articles/usage-perform_chart_review.html">Performing Chart Review</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thewileylab/ReviewR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="customize-add_a_database_module_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Support a New Relational Database Management System</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thewileylab/ReviewR/blob/master/vignettes/customize-add_a_database_module.Rmd"><code>vignettes/customize-add_a_database_module.Rmd</code></a></small>
      <div class="hidden name"><code>customize-add_a_database_module.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Database connections in ReviewR are created with the help of the <a href="https://db.rstudio.com/dbi/">DBI Package</a> from RStudio. This allows ReviewR to interact with any database supported by DBI. A full list of compatible database back-ends<a href="#dplyr-support">*</a> can be found <a href="https://db.rstudio.com/databases/">here</a>.</p>
<p>Within ReviewR, DBI connection objects are programmatically created to facilitate user connections to patient databases. This connection object defines the type of database, connection information (ip, port, etc.), and the user with any associated credentials. These connection objects can then be used to create connections to tables within the database.</p>
<div id="database-modules" class="section level3">
<h3 class="hasAnchor">
<a href="#database-modules" class="anchor"></a>Database Modules</h3>
<p>ReviewR facilitates these DBI connections through the use of <a href="https://mastering-shiny.org/scaling-modules.html">Shiny Modules</a>. Modules are a way to make a complex Shiny application more manageable. They help compartmentalize code and each module is developed for a specific purpose. At their core, modules take user inputs that are defined in a User Interface (UI) function, process the user inputs in a server function and return an output. Each module operates in its own namespace, meaning that shiny modules are portable and can be used in other applications and/or reusable within the same application.</p>
<p>ReviewR has developed a way to interactively switch between database modules that have been developed for the package. These modules consist of a UI to guide the user through establishing a database connection and a server responsible for validating user inputs, establishing a connection, and returning a DBI connection object. Users can extend the functionality of ReviewR by adding developed database modules to <code>R/mod_database_setup.R</code> as shown below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># Database Module Setup ----</span>
      <span class="va">namespace</span> <span class="op">&lt;-</span> <span class="st">'db-selector-ns'</span>
      <span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Add Database Setup Modules Here!!! ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #</span>
      <span class="co">## Add Database Setup Modules Here</span>
      <span class="va">database_setup_vars</span> <span class="op">&lt;-</span> <span class="fu">reactiveValues</span><span class="op">(</span>bigquery <span class="op">=</span> <span class="fu">shinyBigQuery</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinyBigQuery/man/bigquery_setup_server.html">bigquery_setup_server</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">namespace</span> <span class="op">)</span>,
                                            postgresql <span class="op">=</span> <span class="fu">shinyPostgreSQL</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinyPostgreSQL/man/postgresql_setup_server.html">postgresql_setup_server</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">namespace</span> <span class="op">)</span> <span class="co">#,</span>
                                            <span class="co"># new_module = ReviewR::new_module_setup_server(id = namespace)</span>
                                            <span class="op">)</span>
      <span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #</span></pre></div>
<p>Once modules are added to the package, they will appear in the Patient Database Module drop down on the setup tab. <img src="database_module.gif"><!-- --></p>
<p>Read on to learn how to develop a database module for ReviewR!</p>
<p><a name="dplyr-support"></a> *<em>Note: Supported Databases must also have <a href="https://db.rstudio.com/dplyr">dplyr</a> support.</em></p>
</div>
</div>
<div id="developing-a-database-module-for-reviewr" class="section level2">
<h2 class="hasAnchor">
<a href="#developing-a-database-module-for-reviewr" class="anchor"></a>Developing a Database Module for ReviewR</h2>
<p>Creating a Shiny module is very similar to developing a stand alone Shiny App. When developing a database module for ReviewR, there are a few differences that result because of its package architecture. A <a href="#reviewr-database-module-template">template</a> has been provided so that some aspects of ReviewR database module development can be highlighted in the sections that follow.</p>
<div id="getting-started" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h3>
<p>The first step to developing a new ReviewR module will be to clone the latest version of ReviewR from GitHub. This will ensure you have access to the latest development tools and file structure of the ReviewR package. For simplicity, clone the repository to your home directory:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># install.packages('usethis')</span>
<span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/create_from_github.html">create_from_github</a></span><span class="op">(</span>repo_spec <span class="op">=</span> <span class="st">'thewileylab/ReviewR'</span>, destdir <span class="op">=</span> <span class="st">'~/'</span><span class="op">)</span></pre></div>
<p>Navigate to the cloned directory and open the <code>ReviewR.Rproj</code> file. This will open the project in RStudio. Finally, using the devtools package run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># install.packages('devtools')</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/load_all.html">load_all</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>This will load the most recent version of ReviewR. At this point, you are ready to begin developing a database module.</p>
</div>
<div id="general-module-structure" class="section level3">
<h3 class="hasAnchor">
<a href="#general-module-structure" class="anchor"></a>General Module Structure</h3>
<p>Take note of the <a href="#reviewr-database-module-template">ReviewR Database Module Template</a>. It consists of 2 functions:</p>
<ul>
<li>database_setup_ui - Defines the user interface that will guide someone through the database connection process</li>
<li>database_setup_server - Defines what actions to take as a result of user inputs.</li>
</ul>
<p>ReviewR utilizes the <a href="https://shiny.rstudio.com/reference/shiny/1.5.0/moduleServer.html"><code>moduleServer()</code></a> function introduced in Shiny 1.5. This allows the server portion of a module to be called within your application just like any other function, instead of relying on the previous <code><a href="https://shiny.rstudio.com/reference/shiny/latest/callModule.html">callModule()</a></code> syntax.</p>
<p>The next thing to note is that ReviewR modules will ultimately become a part of the ReviewR package namespace. This means that both the UI and Server functions require roxygen comments, with all function parameters, returns, and necessary package imports declared.</p>
<p>For additional information on module development, please see: <a href="https://shiny.rstudio.com/articles/modules.html" class="uri">https://shiny.rstudio.com/articles/modules.html</a></p>
</div>
<div id="requirements" class="section level3">
<h3 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h3>
<ul>
<li>a UI function defined as <code>{module_name}_setup_ui</code> that accepts a single parameter (id)</li>
<li>a server function defined as <code>{module_name}_setup_server</code> with a reactiveValues return
<ul>
<li>reactiveValues must contain the following variables, with these initial values set
<ul>
<li>moduleName = ‘Your Database Module Name’</li>
<li>moduleType = ‘database’</li>
<li>setup_ui = ReviewR::database_setup_ui</li>
<li>is_connected = ‘no’</li>
<li>db_con = NULL</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="start-developing" class="section level3">
<h3 class="hasAnchor">
<a href="#start-developing" class="anchor"></a>Start Developing!</h3>
<p>A helper function has been provided along with ReviewR to help jumpstart the process. Run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu">ReviewR</span><span class="fu">:::</span><span class="fu"><a href="../reference/dev_database_module.html">dev_database_module</a></span><span class="op">(</span>mod_name <span class="op">=</span> <span class="st">'your_module'</span>, display_name <span class="op">=</span> <span class="st">'Your Module Display Name'</span><span class="op">)</span></pre></div>
<p>This will create a module file in the <code>R/</code> directory of the ReviewR package and open it for editing.</p>
<div id="ui-function" class="section level4">
<h4 class="hasAnchor">
<a href="#ui-function" class="anchor"></a>UI Function</h4>
<p>Begin by adding <a href="https://shiny.rstudio.com/gallery/widget-gallery.html">Shiny Widgets</a> to the <code><a href="https://rdrr.io/pkg/htmltools/man/tag.html">tagList()</a></code> in the UI function that users will use to enter their database credentials. Consider adding a “Connect” and “Disconnect” button to your UI which can be monitored by your server function and used to store the user entered credentials and combine them into a DBI connection object. Specifics will vary by database. Remember to wrap all user inputID’s with the <code>ns()</code> function, so that they will inherit the module namespace.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu">tagList</span><span class="op">(</span>
  <span class="fu">actionButton</span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">'connect'</span><span class="op">)</span>,label <span class="op">=</span> <span class="st">'connect'</span><span class="op">)</span>,
  <span class="fu">actionButton</span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">'disconnect'</span><span class="op">)</span>,label <span class="op">=</span> <span class="st">'disconnect'</span><span class="op">)</span>
  <span class="op">)</span></pre></div>
</div>
<div id="example-connect-server-logic" class="section level4">
<h4 class="hasAnchor">
<a href="#example-connect-server-logic" class="anchor"></a>Example ‘Connect’ Server Logic</h4>
<p>As mentioned previously, the entire goal of a ReviewR database module is to construct a DBI connection object with user entered information. This DBI connection object needs to be assigned to the <code>db_con</code> reactive values object, say when a user clicks a button labeled ‘connect’. However, this user entered information should be validated. Consider the following pseudo code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://shiny.rstudio.com">shiny</a></span><span class="op">)</span>
<span class="co">## Observe a connect button, defined in the UI function</span>
<span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">connect</span>, <span class="op">{</span>
  <span class="co">## When the button is pressed, store a temporary connection</span>
  <span class="va">temp_con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span>drv <span class="op">=</span> <span class="fu">database_driver</span><span class="op">(</span><span class="op">)</span>,
                             user <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">username</span>, <span class="co">## A text input, with a username</span>
                             pass <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">password</span> <span class="co">## A password input</span>
                             <span class="op">)</span>
  <span class="co">## Design a test to validate the temporary connection object</span>
  <span class="va">test_result</span> <span class="op">&lt;-</span> <span class="fu">connection_test</span><span class="op">(</span><span class="va">temp_con</span><span class="op">)</span>
  
  <span class="co">## If the test passes, update the reactiveValues objects for the `is_connected` and `db_con` variables</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">test_result</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">is_connected</span> <span class="op">&lt;-</span> <span class="st">'yes'</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">db_con</span> <span class="op">&lt;-</span> <span class="va">temp_con</span>
    <span class="co">## Else, don't create connection info</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">is_connected</span> <span class="op">&lt;-</span> <span class="st">'no'</span>
  <span class="op">}</span>
<span class="op">}</span><span class="op">)</span>
<span class="co">## Let ReviewR handle the rest!</span></pre></div>
<p>The database setup module in ReviewR is ‘observing’ the return of the currently selected database module. When the <code>is_connected</code> variable changes to ‘yes’, it knows that <em>valid</em> connection information is present, and it can begin working with the connected database.</p>
</div>
<div id="example-disconnect-server-logic" class="section level4">
<h4 class="hasAnchor">
<a href="#example-disconnect-server-logic" class="anchor"></a>Example ‘Disconnect’ Server Logic</h4>
<p>Database modules are also responsible for clearing connection information when a user wants to disconnect. Here is a simple example of a database disconnect where a user presses a ‘disconnect’ button:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">## Observe a connect button, defined in the UI function</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">observeEvent</span>(input<span class="op">$</span>disconnect, (</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="co">## Tell the database you are disconnecting</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  DBI<span class="op">::</span><span class="kw">dbDisconnect</span>(database_export<span class="op">$</span>db_con)</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="co">## Clear the connection info</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  database_export<span class="op">$</span>db_con &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="co">## Set `is_connected` variable back to 'no'</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>  database_export<span class="op">$</span>is_connected &lt;-<span class="st"> 'no'</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>))</span></code></pre></div>
</div>
<div id="other-considerations" class="section level4">
<h4 class="hasAnchor">
<a href="#other-considerations" class="anchor"></a>Other Considerations</h4>
<p>Think about how users will be interacting with this module. When a button is clicked, how will they notice that changes are being processed? Will an error message be displayed if incorrect credentials are entered? When connected, will a success message be presented?</p>
<p>As you are developing/testing, remember to add your completed <code>setup_server</code> function to <code>R/mod_database_setup.R</code> in order to have the module display within ReviewR. When incorporated into ReviewR, the <code>moduleName</code> parameter of the database module’s reactiveValues return will be what appears in the Database Module Selector drop down list. Once you are sure you have added your module to <code>mod_database_setup.R</code> and you are ready to test, run:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu">golem</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/golem/man/document_and_reload.html">document_and_reload</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>This will incorporate your newly developed module into the ReviewR namespace, allowing you to see any changes that you have made as a result of your development process.</p>
</div>
</div>
<div id="finishing-up" class="section level3">
<h3 class="hasAnchor">
<a href="#finishing-up" class="anchor"></a>Finishing up</h3>
<p>Once you are satisfied with your module and have sufficiently tested its functionality, run:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/install.html">install</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>To install a new version of the ReviewR package with your newly developed module incorporated.</p>
</div>
<div id="reviewr-database-module-template" class="section level3">
<h3 class="hasAnchor">
<a href="#reviewr-database-module-template" class="anchor"></a>ReviewR Database Module Template</h3>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co"># UI ----</span>
<span class="co">#' Database Setup UI</span>
<span class="co">#'</span>
<span class="co">#' This module is designed to guide a user through the process of authenticating your database</span>
<span class="co">#'</span>
<span class="co">#' @param id The module namespace</span>
<span class="co">#' </span>
<span class="co">#' @return The Database Setup UI</span>
<span class="co">#' @export</span>
<span class="co">#' </span>
<span class="co">#' @importFrom any package imports required to render your Setup UI</span>
<span class="co">#'</span>
<span class="va">database_setup_ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span> <span class="co">## Enter a unique UI function name, ie: mariaDB_setup_ui</span>
  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/NS.html">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/tag.html">tagList</a></span><span class="op">(</span>
    
    <span class="op">)</span>
  <span class="op">}</span>

<span class="co"># Server ----</span>
<span class="co">#' Database Setup Server</span>
<span class="co">#'</span>
<span class="co">#' @param id The Module namespace</span>
<span class="co">#'</span>
<span class="co">#' @return Database connection variables</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @importFrom any package imports required to process user entered information from the UI</span>
<span class="co">#' </span>
<span class="va">database_setup_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/moduleServer.html">moduleServer</a></span><span class="op">(</span>
    <span class="va">id</span>,
    <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">session</span><span class="op">$</span><span class="va">ns</span>
      <span class="co">## Database Export Values ----</span>
      <span class="va">database_export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/reactiveValues.html">reactiveValues</a></span><span class="op">(</span>
        <span class="co">### Module Info</span>
        moduleName <span class="op">=</span> <span class="st">'Your Database Module Name'</span>,
        moduleType <span class="op">=</span> <span class="st">'database'</span>,
        setup_ui <span class="op">=</span> <span class="fu">ReviewR</span><span class="fu">::</span><span class="va"><a href="../reference/database_setup_ui.html">database_setup_ui</a></span>, <span class="co">## Make this function match your setup UI function</span>
        is_connected <span class="op">=</span> <span class="st">'no'</span>,       
        db_con <span class="op">=</span> <span class="cn">NULL</span>
        <span class="op">)</span>
      <span class="co"># Server Code Here ----</span>
      
      
      <span class="co"># Return ----</span>
      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">database_export</span><span class="op">)</span>
    <span class="op">}</span>
  <span class="op">)</span>
<span class="op">}</span></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Laura Wiley, Luke Rasmussen, David Mayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
