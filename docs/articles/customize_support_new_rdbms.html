<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Support a New Relational Database Management System • ReviewR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Support a New Relational Database Management System">
<meta property="og:description" content="ReviewR">
<meta property="og:image" content="reviewr.thewileylab.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ReviewR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Deploying ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/deploy_local.html">Local Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_server.html">Shiny Server Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_docker.html">Docker Deployment</a>
    </li>
    <li>
      <a href="../articles/deploy_bigquery.html">Google BigQuery Deployment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Using ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/usage_connect_to_record_database.html">Connect to Patient Record Database</a>
    </li>
    <li>
      <a href="../articles/usage_connect_to_redcap.html">Connect to REDCap</a>
    </li>
    <li>
      <a href="../articles/usage_perform_chart_review.html">Perform A Chart Review</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Customizing ReviewR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customize_support_new_rdbms.html">Support a New Relational Database Management System</a>
    </li>
    <li>
      <a href="../articles/customize_support_new_datamodel.html">Support a Custom Datamodel</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="https://github.com/thewileylab/ReviewR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="customize_support_new_rdbms_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Support a New Relational Database Management System</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thewileylab/ReviewR/blob/master/vignettes/customize_support_new_rdbms.Rmd"><code>vignettes/customize_support_new_rdbms.Rmd</code></a></small>
      <div class="hidden name"><code>customize_support_new_rdbms.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Database connections in ReviewR are created with the help of the <a href="https://db.rstudio.com/dbi/">DBI Package</a> from RStudio. This allows ReviewR to interact with any database supported by DBI. A full list of compatible database back-ends<a href="#dplyr-support">*</a> can be found <a href="https://db.rstudio.com/databases/">here</a>.</p>
<p>Within ReviewR, DBI connection objects are programmatically created to facilitate user connections to patient databases. This connection object defines the type of database, connection information (IP address, port, etc.), and the user with any associated credentials. These connection objects can then be used to create access tables within the database.</p>
<div id="database-modules" class="section level3">
<h3 class="hasAnchor">
<a href="#database-modules" class="anchor"></a>Database Modules</h3>
<p>ReviewR facilitates these DBI connections through the use of <a href="https://mastering-shiny.org/scaling-modules.html">Shiny Modules</a>. Modules are a way to make a complex Shiny application more manageable. They compartmentalize code and are developed for a specific purpose. At their core, modules monitor user inputs that are defined in a User Interface (UI) function, process these inputs in a server function, and return an output. Each module operates in its own namespace, meaning that shiny modules are portable and can be used in other applications or reused within the same application.</p>
<p>In ReviewR, this concept is used to create “database modules.” Each patient database back-end will have different connection requirements, meaning a new UI is needed to collect the required connection information from the user. By modularizing this connection code, ReviewR can support multiple databases so long as a correctly formatted DBI connection object is returned to the ReviewR application. Thus “database modules” are shiny modules that are responsible for collecting appropriate database credentials and returning a DBI connection object.</p>
<p>A special database setup module has been created within ReviewR that allows it to interactively switch between database modules that have been developed for the package. These modules consist of a UI to guide the user through establishing a database connection and a server responsible for validating user inputs, establishing a connection, and returning a DBI connection object. Users can extend the functionality of ReviewR by adding developed database modules to <code>R/mod_database_setup.R</code> as shown below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Database Module Setup ----</span>
      <span class="va">namespace</span> <span class="op">&lt;-</span> <span class="st">'db-selector-ns'</span>
      <span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Add Database Setup Modules Here!!! ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #</span>
      <span class="co">## Add Database Setup Modules Here</span>
      <span class="va">database_setup_vars</span> <span class="op">&lt;-</span> <span class="fu">reactiveValues</span><span class="op">(</span>bigquery <span class="op">=</span> <span class="fu"><a href="../reference/bigquery_setup_server.html">bigquery_setup_server</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">namespace</span> <span class="op">)</span>,
                                            postgresql <span class="op">=</span> <span class="fu"><a href="../reference/postgresql_setup_server.html">postgresql_setup_server</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">namespace</span> <span class="op">)</span> <span class="co">#,</span>
                                            <span class="co"># new_module = new_module_setup_server(id = namespace)</span>
                                            <span class="op">)</span>
      <span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #</span></code></pre></div>
<p>Once modules are added to the package, they will appear in the Patient Database Module drop down on the setup tab. <img src="database_module.gif"><!-- --></p>
<p>Read on to learn how to develop a database module for ReviewR!</p>
<p><a name="dplyr-support"></a> *<em>Note: Supported Databases must also have <a href="https://db.rstudio.com/dplyr">dplyr</a> support.</em></p>
</div>
</div>
<div id="developing-a-database-module-for-reviewr" class="section level2">
<h2 class="hasAnchor">
<a href="#developing-a-database-module-for-reviewr" class="anchor"></a>Developing a Database Module for ReviewR</h2>
<p>Creating a Shiny module is very similar to developing a stand alone Shiny App. When developing a database module for ReviewR, there are a few differences that result because of its package architecture. A <a href="#reviewr-database-module-template">template</a> has been provided so that some aspects of ReviewR database module development can be highlighted in the sections that follow.</p>
<p>If you are familiar with Shiny modules and want to begin developing right away, you may skip ahead to the <a href="#start-developing">Start Developing</a> Section of this guide.</p>
<div id="getting-started" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h3>
<p>The first step to developing a new ReviewR module will be to fork the latest version of ReviewR from GitHub. Forking the repository will allow you to experiment with the ReviewR package and ensures you have access to the latest development tools and file structure of the ReviewR package. For simplicity, the home directory is specified as a destination directory:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages('usethis')</span>
<span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/create_from_github.html">create_from_github</a></span><span class="op">(</span>repo_spec <span class="op">=</span> <span class="st">'thewileylab/ReviewR'</span>, destdir <span class="op">=</span> <span class="st">'~/'</span><span class="op">)</span></code></pre></div>
<p>Please see <a href="https://happygitwithr.com/index.html">this guide</a> if you have trouble connecting RStudio with Git. It is also possible to fork this repository directly from GitHub if all else fails.</p>
<p>Navigate to the forked repository and open the <code>ReviewR.Rproj</code> file. This will open the project in RStudio. Finally, using the devtools package run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages('devtools')</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/load_all.html">load_all</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will load the most recent version of ReviewR. At this point, you are ready to begin developing a database module.</p>
</div>
<div id="start-developing" class="section level3">
<h3 class="hasAnchor">
<a href="#start-developing" class="anchor"></a>Start Developing!</h3>
<p>A helper function, <code>dev_database_module()</code>, has been provided with ReviewR to help jump start the database module development process. Run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ReviewR</span><span class="fu">:::</span><span class="fu">dev_database_module</span><span class="op">(</span>mod_name <span class="op">=</span> <span class="st">'your_module'</span>, display_name <span class="op">=</span> <span class="st">'Your Module Display Name'</span><span class="op">)</span></code></pre></div>
<p>This will create a module file in the <code>R/</code> directory of the ReviewR package and open it for editing.</p>
</div>
<div id="general-module-structure" class="section level3">
<h3 class="hasAnchor">
<a href="#general-module-structure" class="anchor"></a>General Module Structure</h3>
<p>Take note of the <a href="#reviewr-database-module-template">ReviewR Database Module Template</a>. It consists of 2 functions:</p>
<ul>
<li>{mod_name}_setup_ui - Defines the user interface that will guide someone through the database connection process</li>
<li>{mod_name}_setup_server - Defines what actions to take as a result of user inputs.</li>
</ul>
<p>ReviewR utilizes the <a href="https://shiny.rstudio.com/reference/shiny/1.5.0/moduleServer.html"><code>moduleServer()</code></a> function introduced in Shiny 1.5. This allows the server portion of a module to be called within your application just like any other function, instead of relying on the previous <code><a href="https://shiny.rstudio.com/reference/shiny/latest/callModule.html">callModule()</a></code> syntax.</p>
<p>The next thing to note is that ReviewR modules will ultimately become a part of the ReviewR package namespace. This means that both the UI and Server functions <em>require</em> roxygen comments, with all function parameters, returns, and necessary package imports declared.</p>
<p>For additional information on module development, please see: <a href="https://shiny.rstudio.com/articles/modules.html" class="uri">https://shiny.rstudio.com/articles/modules.html</a></p>
</div>
<div id="requirements" class="section level3">
<h3 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h3>
<ul>
<li>a UI function defined as <code>{module_name}_setup_ui</code> that accepts a single parameter (id)</li>
<li>a server function defined as <code>{module_name}_setup_server</code> with a <code><a href="https://shiny.rstudio.com/reference/shiny/latest/reactiveValues.html">reactiveValues()</a></code> return
<ul>
<li>reactiveValues must contain the following variables, with these initial values set:
<ul>
<li>moduleName = ‘{Your Database Module Name}’</li>
<li>moduleType = ‘database’</li>
<li>setup_ui = ReviewR::{module_name}_setup_ui</li>
<li>is_connected = ‘no’</li>
<li>db_con = NULL</li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="ui-function" class="section level4">
<h4 class="hasAnchor">
<a href="#ui-function" class="anchor"></a>UI Function</h4>
<p>Begin by adding <a href="https://shiny.rstudio.com/gallery/widget-gallery.html">Shiny Widgets</a> to the <code><a href="https://rdrr.io/pkg/htmltools/man/tag.html">tagList()</a></code> portion of the UI function in your database module. Users will interact with these widgets to enter their database credentials. Consider adding a “Connect” and “Disconnect” button to your UI which can be monitored by your server function to store the user entered credentials and combine them into a DBI connection object. Specifics will vary by database. Remember to wrap all user inputID’s with the <code>ns()</code> function, so that they will inherit the module namespace.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tagList</span><span class="op">(</span>
  <span class="fu">actionButton</span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">'connect'</span><span class="op">)</span>,label <span class="op">=</span> <span class="st">'connect'</span><span class="op">)</span>,
  <span class="fu">actionButton</span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">'disconnect'</span><span class="op">)</span>,label <span class="op">=</span> <span class="st">'disconnect'</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
</div>
<div id="example-connect-server-logic" class="section level4">
<h4 class="hasAnchor">
<a href="#example-connect-server-logic" class="anchor"></a>Example ‘Connect’ Server Logic</h4>
<p>As mentioned previously, the entire goal of a ReviewR database module is to construct a DBI connection object with user entered information. This DBI connection object needs to be assigned to the <code>db_con</code> reactive values object, say when a user clicks a button labeled ‘connect’. However, this user entered information should be validated. Consider the following pseudo code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://shiny.rstudio.com">shiny</a></span><span class="op">)</span>
<span class="co">## Observe a connect button, defined in the UI function</span>
<span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/observeEvent.html">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">connect</span>, <span class="op">{</span>
  <span class="co">## When the button is pressed, store a temporary connection</span>
  <span class="va">temp_con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span>drv <span class="op">=</span> <span class="fu">database_driver</span><span class="op">(</span><span class="op">)</span>,
                             user <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">username</span>, <span class="co">## A text input, with a username</span>
                             pass <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">password</span> <span class="co">## A password input</span>
                             <span class="op">)</span>
  <span class="co">## Design a test to validate the temporary connection object</span>
  <span class="va">test_result</span> <span class="op">&lt;-</span> <span class="fu">connection_test</span><span class="op">(</span><span class="va">temp_con</span><span class="op">)</span>
  
  <span class="co">## If the test passes, update the reactiveValues objects for the `is_connected` and `db_con` variables</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">test_result</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">is_connected</span> <span class="op">&lt;-</span> <span class="st">'yes'</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">db_con</span> <span class="op">&lt;-</span> <span class="va">temp_con</span>
    <span class="co">## Else, don't create connection info</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="va">database_export</span><span class="op">$</span><span class="va">is_connected</span> <span class="op">&lt;-</span> <span class="st">'no'</span>
  <span class="op">}</span>
<span class="op">}</span><span class="op">)</span>
<span class="co">## Let ReviewR handle the rest!</span></code></pre></div>
<p>The database setup module in ReviewR is ‘observing’ the return of the currently selected database module. When the <code>is_connected</code> variable changes to ‘yes’, it knows that <em>valid</em> connection information is present, and it can begin working with the connected database.</p>
</div>
<div id="example-disconnect-server-logic" class="section level4">
<h4 class="hasAnchor">
<a href="#example-disconnect-server-logic" class="anchor"></a>Example ‘Disconnect’ Server Logic</h4>
<p>Database modules are also responsible for clearing connection information when a user wants to disconnect. Here is a simple example of a database disconnect where a user presses a ‘disconnect’ button:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">## Observe a connect button, defined in the UI function</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">observeEvent</span>(input<span class="op">$</span>disconnect, (</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="co">## Tell the database you are disconnecting</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  DBI<span class="op">::</span><span class="kw">dbDisconnect</span>(database_export<span class="op">$</span>db_con)</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="co">## Clear the connection info</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  database_export<span class="op">$</span>db_con &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="co">## Set `is_connected` variable back to 'no'</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>  database_export<span class="op">$</span>is_connected &lt;-<span class="st"> 'no'</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>))</span></code></pre></div>
</div>
<div id="other-considerations" class="section level4">
<h4 class="hasAnchor">
<a href="#other-considerations" class="anchor"></a>Other Considerations</h4>
<p>Think about how users will be interacting with this module. When a button is clicked, how will they notice that changes are being processed? Will an error message be displayed if incorrect credentials are entered? When connected, will a “connection success” message be presented?</p>
</div>
<div id="important" class="section level4">
<h4 class="hasAnchor">
<a href="#important" class="anchor"></a>Important</h4>
<p>As you are developing/testing, remember to add your completed <code>setup_server</code> function to <code>R/mod_database_setup.R</code>. This is required to have the module display within ReviewR. When incorporated into ReviewR, the <code>moduleName</code> parameter of the database module’s reactiveValues will be what appears in the Database Module Selector drop down list. Once you are sure you have added your module to <code>mod_database_setup.R</code> and you are ready to test, run:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">golem</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/golem/man/document_and_reload.html">document_and_reload</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will incorporate your newly developed module into the ReviewR namespace, allowing you to see any changes that you have made as a result of your development process.</p>
</div>
</div>
<div id="finishing-up" class="section level3">
<h3 class="hasAnchor">
<a href="#finishing-up" class="anchor"></a>Finishing up</h3>
<p>Once you are satisfied with your module and have sufficiently tested its functionality, run:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/install.html">install</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will install a new, custom version of the ReviewR package with your newly developed module incorporated.</p>
</div>
<div id="reviewr-database-module-template" class="section level3">
<h3 class="hasAnchor">
<a href="#reviewr-database-module-template" class="anchor"></a>ReviewR Database Module Template</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># UI ----</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#' {display_name} Setup UI</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#'</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co">#' This module is designed to guide a user through the process of authenticating your database</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">#' </span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#' @param id The module namespace</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co">#' </span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co">#' @return The {display_name} Setup UI</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co">#' @export</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="co">#' </span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">#' @importFrom shiny NS</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">#'</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>{mod_name}_setup_ui &lt;-<span class="st"> </span><span class="cf">function</span>(id) { </span>
<span id="cb10-14"><a href="#cb10-14"></a>  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)</span>
<span id="cb10-15"><a href="#cb10-15"></a>  <span class="kw">tagList</span>(</span>
<span id="cb10-16"><a href="#cb10-16"></a>  <span class="co">## UI widgets here ----</span></span>
<span id="cb10-17"><a href="#cb10-17"></a>    </span>
<span id="cb10-18"><a href="#cb10-18"></a>    )</span>
<span id="cb10-19"><a href="#cb10-19"></a>  }</span>
<span id="cb10-20"><a href="#cb10-20"></a></span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="co"># Server ----</span></span>
<span id="cb10-22"><a href="#cb10-22"></a><span class="co">#' {display_name} Setup Server</span></span>
<span id="cb10-23"><a href="#cb10-23"></a><span class="co">#'</span></span>
<span id="cb10-24"><a href="#cb10-24"></a><span class="co">#' @param id The Module namespace</span></span>
<span id="cb10-25"><a href="#cb10-25"></a><span class="co">#'</span></span>
<span id="cb10-26"><a href="#cb10-26"></a><span class="co">#' @return {display_name} connection variables</span></span>
<span id="cb10-27"><a href="#cb10-27"></a><span class="co">#' @export</span></span>
<span id="cb10-28"><a href="#cb10-28"></a><span class="co">#'</span></span>
<span id="cb10-29"><a href="#cb10-29"></a><span class="co">#' @importFrom DBI dbConnect</span></span>
<span id="cb10-30"><a href="#cb10-30"></a><span class="co">#' </span></span>
<span id="cb10-31"><a href="#cb10-31"></a>{mod_name}_setup_server &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</span>
<span id="cb10-32"><a href="#cb10-32"></a>  <span class="kw">moduleServer</span>(</span>
<span id="cb10-33"><a href="#cb10-33"></a>    id,</span>
<span id="cb10-34"><a href="#cb10-34"></a>    <span class="cf">function</span>(input, output, session) {</span>
<span id="cb10-35"><a href="#cb10-35"></a>      ns &lt;-<span class="st"> </span>session<span class="op">$</span>ns</span>
<span id="cb10-36"><a href="#cb10-36"></a>      <span class="co">## {mod_name} Export Values ----</span></span>
<span id="cb10-37"><a href="#cb10-37"></a>      {mod_name}_export &lt;-<span class="st"> </span><span class="kw">reactiveValues</span>(</span>
<span id="cb10-38"><a href="#cb10-38"></a>        <span class="co">### Module Info</span></span>
<span id="cb10-39"><a href="#cb10-39"></a>        <span class="dt">moduleName =</span> <span class="st">'{display_name}'</span>,</span>
<span id="cb10-40"><a href="#cb10-40"></a>        <span class="dt">moduleType =</span> <span class="st">'database'</span>,</span>
<span id="cb10-41"><a href="#cb10-41"></a>        <span class="dt">setup_ui =</span> ReviewR<span class="op">::</span>{mod_name}_setup_ui,</span>
<span id="cb10-42"><a href="#cb10-42"></a>        <span class="dt">is_connected =</span> <span class="st">'no'</span>,       </span>
<span id="cb10-43"><a href="#cb10-43"></a>        <span class="dt">db_con =</span> <span class="ot">NULL</span></span>
<span id="cb10-44"><a href="#cb10-44"></a>        )</span>
<span id="cb10-45"><a href="#cb10-45"></a>      <span class="co"># Server Code Here ----</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>      </span>
<span id="cb10-47"><a href="#cb10-47"></a>      </span>
<span id="cb10-48"><a href="#cb10-48"></a>      <span class="co"># Return ----</span></span>
<span id="cb10-49"><a href="#cb10-49"></a>      <span class="kw">return</span>({mod_name}_export)</span>
<span id="cb10-50"><a href="#cb10-50"></a>    }</span>
<span id="cb10-51"><a href="#cb10-51"></a>  )</span>
<span id="cb10-52"><a href="#cb10-52"></a>}</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Laura Wiley, Luke Rasmussen, David Mayer, <a href="https://www.thewileylab.org/"><img src="https://raw.githubusercontent.com/thewileylab/ReviewR/master/man/figures/WileyLab.svg" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
